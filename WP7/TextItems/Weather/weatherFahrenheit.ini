[Rainmeter]
Update=5000
DynamicWindowSize=1
MouseActionCursor=0
MiddleMouseUpAction=!DeactivateConfig
;Metadata added by RainBrowser
;http://rainmeter.net/RainCMS/?q=Rainmeter101_AnatomyOfASkin

[Metadata]
Name=
Config=
Description=
Instructions=
Version=
Author=Xyrfo and fediaFedia
License=
Variant=
Preview=

;End of added Metadata

[Variables]
@include=#SKINSPATH#\WP7\Common\Variables\UserVariables.inc
@include1=#CURRENTPATH#\UserVariables.inc
@include4=#SKINSPATH#\WP7\Common\color\color.inc
@include3=#SKINSPATH#\WP7\Panels\Weather\UserVariables.inc
@include2=#SKINSPATH#\WP7\Common\Variables\Languages\lang.inc
@include5=#CURRENTPATH#\size.inc
width=730
Height=450
[MeasureWeatherRSS]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=30
Url=http://weather.yahooapis.com/forecastrss?p=#WEATHERCODE#&u=f
RegExp=(?siU)<link.*>(.*)</link>.*city=\"(.*)\".*chill=\"(.*)\".*direction=\"(.*)\".*speed=\"(.*)\".*humidity=\"(.*)\".*visibility=\"(.*)\".*pressure=\"(.*)\".*sunrise=\"(.*)\".*sunset=\"(.*)\".*<image>.*<url>(.*)</url>.*<title>.*:.*m .*(.*)</title>.*lat>(.*)<.*long>(.*)<.*yweather:condition.*text=\"(.*)\".*code=\"(.*)\".*temp=\"(.*)\".*yweather:forecast.*day=\"(.*)\".*high=\"(.*)\".*code=\"(.*)\".*yweather:forecast.*day=\"(.*)\".*high=\"(.*)\".*code=\"(.*)\".*
StringIndex=1


[act]
meter=image
w=#width#
h=#height#
solidcolor=0,0,0,1
MouseOverAction=!execute [!ShowMEter MeterChange][!ShowMEter Meterset][!redraw]
MouseLeaveAction=!execute [!HideMEter MeterChange][!HideMEter Meterset][!redraw]


[MeasureWeatherRSS2]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=3600
Url=http://xml.weather.com/weather/local/#WeatherCode#?cc=*&unit=i&dayf=6
RegExp="(?siU)<weather ver="(.*)">(.*)<tmp>(.*)</tmp>(.*)<t>(.*)</t>(.*)<icon>(.*)</icon>(.*)<day d="1" t="(.*)" dt="(.*)">(.*)<hi>(.*)</hi>(.*)<low>(.*)</low>(.*)<icon>(.*)</icon>(.*)<t>(.*)</t>(.*)<day d="2" t="(.*)" dt="(.*)">(.*)<hi>(.*)</hi>(.*)<low>(.*)</low>(.*)<icon>(.*)</icon>(.*)<t>(.*)</t>(.*)<day d="3" t="(.*)" dt="(.*)">(.*)<hi>(.*)</hi>(.*)<low>(.*)</low>(.*)<icon>(.*)</icon>(.*)<t>(.*)</t>(.*)<day d="4" t="(.*)" dt="(.*)">(.*)<hi>(.*)</hi>(.*)<low>(.*)</low>(.*)<icon>(.*)</icon>(.*)<t>(.*)</t>(.*)"
StringIndex=1

[MeasureWeatherDesc]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=15
Substitute="Mostly Cloudy":"#MostlyCloudy#","Light Snow":"#LightSnow#","Light Rain":"#LightRain#","Light Rain Shower":"#LightRain#","Cloudy":"#Cloudy#","Drizzle":"#Drizzle#","Lgt.":"Hafif","And":"#and#","Partly":"#Partly#","Mostly":"#Mostly#","and":"#and#","with":"#with#","Clear":"#Clear#","Fair":"#Fair#","Partly Cloudy":"#PartlyCloudy#","Cloudy":"#Cloudy#","Freezing Rain":"#FreezingRain#","Light Rain Shower":"LightRainShower","Light Rain":"#LightRain#","Rain":"#Rain#","Thunderstorm":"#T-Storm#","Thunder":"#Thunder#","in the Vicinity":"#intheVicinity#","Shower":"#Shower#","Light Snow":"#LightSnow#","Snow":"#Snow#","Sunny":"#Sunny#","Windy":"#Windy#","Haze":"#Haze#","Fog":"#Fog#","W-ead Dust":"#WidespreadDust#","Set":"#Set#","Light Drizzle":"#LightDrizzle#","Wintry Mix":"#WintryMix#","Light":"#Light#","Mist":"#Fog#"

[MeasureWeatherIcon]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=16

[MeasureWeatherIconMod]
Measure=CALC
Formula=8800000 + (MeasureWeatherIcon*1000) + 99
Substitute="88":"#SKINSPATH#\WP7\Panels\Weather\simple\","099":".png"

[MeasureWeatherTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=17

[MeasureWindChill]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=3

[MeasureWindDirection]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=4

[MeasureWindSpeed]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=5

[MeasureHumidity]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=6

[MeasureVisibility]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=7

[MeasurePressure]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=8

[MeasureSunrise]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=9

[MeasureSunset]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=10


[Icon]
MeasureName=MeasureWeatherIconMod
Meter=IMAGE
X=(#height#/90)
ImageTint=#TextColor#
Greyscale=1 
Y=(#height#/4.0909)
w=(#height#/2.8125)




[MeasureCity]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=2


[city]
Meter=STRING
Antialias=1
MeasureName=MeasureCity
X=(#height#/30)
Y=(#height#/90)
FontColor=#textcolor#,255
FontSize=(#height#/30)
FontFace=Segoe WP
AntiAlias=1
StringCase=UPPER 

[MeterSet]
Meter=BUTTON
ButtonImage=settings.png
X=5R
Y=r
hidden=1
ToolTipText=This widget reads weather code from the panel, configure it from the panel first.

[name1]
Meter=STRING
Antialias=1
Text=today
X=(#height#/90)
Y=(#height#/18-1)
H=(#height#/30)
W=(#height#/3)
FontColor=#textcolor#,100
FontSize=(#height#/10)
FontFace=Segoe WP Light
AntiAlias=1


[name0]
Meter=STRING
Antialias=1
Text=forecast
X=(#height#/2.66)
Y=(#height#/18-1)
H=(#height#/30)
W=(#height#/3)
FontColor=#textcolor#,100
FontSize=(#height#/10)
FontFace=Segoe WP Light
AntiAlias=1
Hidden=0



[name2]
Meter=STRING
Antialias=1
Text=today
X=(#height#/90)
Y=(#height#/18-1)
H=(#height#/30)
W=(#height#/3)
FontColor=#textcolor#
FontSize=(#height#/10)
FontFace=Segoe WP Light
AntiAlias=1


[name3]
Meter=STRING
Antialias=1
Text=forecast
X=(#height#/2.66)
Y=(#height#/18-1)
H=(#height#/30)
W=(#height#/3)
FontColor=#textcolor#
FontSize=(#height#/10)
FontFace=Segoe WP Light
AntiAlias=1
Hidden=1



[activearea0]
Meter=IMAGE
SolidColor=255,255,255,1
X=0
Y=0
w=(#height#/1.2*#overridewidth#)
H=420
Hidden=0



[activearea1]
Meter=IMAGE
SolidColor=0,0,0,1
X=180
Y=50
w=200
H=50
Hidden=0
LeftMouseDownAction=!execute [!Hidemeter name2][!showmeter name3][!Hidemeter 1][!Hidemeter 2][!Hidemeter 3][!Hidemeter 4][!Hidemeter 5][!Hidemeter 6][!Hidemeter 7][!Hidemeter 8][!Hidemeter i1][!Hidemeter i2][!Hidemeter i3][!Hidemeter i4][!Hidemeter i5][!Hidemeter i6][!Hidemeter i7][!Hidemeter i8][!showmeter meterday1][!showmeter meterday2][!showmeter meterday3][!showmeter meterday4][!showmeter metertemp1][!showmeter metertemp2][!showmeter metertemp3][!showmeter metertemp4][!Redraw]

[activearea2]
Meter=IMAGE
SolidColor=255,0,255,1
X=20
Y=50
w=150
H=50
Hidden=0
LeftMouseDownAction=!execute [!Showmeter name2][!Showmeter 1][!Showmeter 2][!Showmeter 3][!Showmeter 4][!Showmeter 5][!Showmeter 6][!Showmeter 7][!Showmeter 8][!Showmeter i1][!Showmeter i2][!Showmeter i3][!Showmeter i4][!Showmeter i5][!Showmeter i6][!Showmeter i7][!Showmeter i8][!hidemeter meterday1][!hidemeter meterday2][!Hidemeter meterday3][!Hidemeter meterday4][!Hidemeter metertemp1][!Hidemeter metertemp2][!Hidemeter metertemp3][!Hidemeter metertemp4][!Hidemeter name3][!Redraw]


[Temp]
Meter=STRING
Antialias=1
MeasureName=MeasureWeatherTemp
X=(#height#/2.5)
Y=(#height#/3.6-1)
FontColor=#textcolor#
FontSize=(#height#/9)
FontFace=Segoe WP Light
AntiAlias=1
Postfix="°F"
StringCase=UPPER

[MeterChange]
Meter=BUTTON
ButtonImage=#SKINSPATH#WP7\Common\Panel\change.png
X=R
Y=20r
ButtonCommand=!Execute [!ActivateConfig "WP7\TextItems\Weather" "weather.ini"]
Hidden=1
ToolTipText=Switch to Celsius

[Desc]
MeasureName=MeasureWeatherDesc
Meter=STRING
Antialias=1
X=(#height#/2.34375)
Y=(#height#/2.25)
H=(#height#/30)
W=(#height#/3)
FontColor=#colorskin#
FontSize=(#height#/41)
FontFace=Segoe WP Semibold
AntiAlias=1


[Style]
FontSize=(#height#/34)
Y=(#height#/20)r

[1]
MeterStyle=Style
Meter=STRING
X=(#height#/45)
Y=(#height#/1.666666)
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
Text=Barometer
AntiAlias=1

[2]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
Text=Humidity
AntiAlias=1

[3]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
Text=Visibility
AntiAlias=1

[5]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
Text=Wind chill
AntiAlias=1

[6]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
Text=Wind direction
AntiAlias=1

[7]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
Text=Sunrise
AntiAlias=1

[8]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
Text=Sunset
AntiAlias=1

[i1]
MeterStyle=Style
Meter=STRING
X=(#height#/1.4516)
Y=(#height#/1.666666)
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
MeasureName=MeasurePressure
AntiAlias=1

[i2]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
MeasureName=MeasureHumidity
AntiAlias=1

[i3]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
MeasureName=MeasureVisibility
AntiAlias=1

[i5]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
MeasureName=MeasureWindChill
AntiAlias=1

[i6]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
MeasureName=MeasureWindDirection
AntiAlias=1

[i7]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
MeasureName=MeasureSunrise
AntiAlias=1

[i8]
MeterStyle=Style
Meter=STRING
X=r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
MeasureName=MeasureSunset
AntiAlias=1

MENU
----

[MeterClose]
Meter=image
Imagename=rem.png
X=200
Y=0
LeftMouseUpAction=!DeactivateConfig
Hidden=1

[MeterSettings]
Meter=BUTTON
ButtonImage=settings.png
X=230
Y=0
ButtonCommand=!Execute ["#SKINSPATH#WP7\Common\Config\config.exe" #CURRENTCONFIG#]
Hidden=1

[MeasureWeatherDay1]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS2]
StringIndex=9

[MeasureWeatherTemp1]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS2]
StringIndex=12

[MeasureWeatherDay2]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS2]
StringIndex=20

[MeasureWeatherTemp2]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS2]
StringIndex=23


[MeasureWeatherDay3]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS2]
StringIndex=31

[MeasureWeatherTemp3]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS2]
StringIndex=34

[MeasureWeatherDay4]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS2]
StringIndex=42

[MeasureWeatherTemp4]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS2]
StringIndex=45

--
[MeterDay1]
MeasureName=MeasureWeatherDay1
MeterStyle=Style
Meter=STRING
X=(#height#/45)
Y=(#height#/1.6666666)
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
AntiAlias=1
Fontsize=25
Hidden=1


[MeterDay2]
MeasureName=MeasureWeatherDay2
MeterStyle=Style
Meter=STRING
X=(#height#/45)
Y=40r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
AntiAlias=1
Fontsize=25
Hidden=1



[MeterDay3]
MeasureName=MeasureWeatherDay3
MeterStyle=Style
Meter=STRING
X=(#height#/45)
Y=40r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
AntiAlias=1
Fontsize=25
Hidden=1


[MeterDay4]
MeasureName=MeasureWeatherDay4
MeterStyle=Style
Meter=STRING
X=(#height#/45)
Y=40r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#textcolor#
AntiAlias=1
Fontsize=25
Hidden=1



[MeterTemp1]
MeasureName=MeasureWeatherTemp1
MeterStyle=Style
Meter=STRING
X=(#height#/1.4516)
Y=(#height#/1.6666666)
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
AntiAlias=1
Fontsize=25
Postfix="°"
Hidden=1


[MeterTemp2]
MeasureName=MeasureWeatherTemp2
MeterStyle=Style
Meter=STRING
X=(#height#/1.4516)
Y=40r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
AntiAlias=1
Fontsize=25
Postfix="°"
Hidden=1


[MeterTemp3]
MeasureName=MeasureWeatherTemp3
MeterStyle=Style
Meter=STRING
X=(#height#/1.4516)
Y=40r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
AntiAlias=1
Fontsize=25
Postfix="°"
Hidden=1

[MeterTemp4]
MeasureName=MeasureWeatherTemp4
MeterStyle=Style
Meter=STRING
X=(#height#/1.4516)
Y=40r
FontFace=#FontFaceUI#
MeterStyle=DriveText
FontColor=#colorskin#
AntiAlias=1
Fontsize=25
Postfix="°"
Hidden=1

