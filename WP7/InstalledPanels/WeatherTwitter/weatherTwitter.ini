[Rainmeter]
MouseOverAction=!execute [!RainmeterShowMeter btn][!RainmeterShowMeter size][!RainmeterShowMeter MeterClose][!RainmeterShowMeter MeterChange][!RainmeterShowMeter Logo][!RainmeterShowMeter MeterSettings][!RainmeterRedraw]
MouseLeaveAction=!execute [!RainmeterHideMeter MeterChange][!RainmeterHideMeter btn][!RainmeterHideMeter btn1][!RainmeterHideMeter btn5][!RainmeterHideMeter btn3][!RainmeterHideMeter btn4][!RainmeterHideMeter MeterSettings][!RainmeterHideMeter size][!RainmeterHideMeter MeterClose][!RainmeterHideMeter MeterChange][!RainmeterHideMeter Logo][!RainmeterRedraw]
MouseActionCursor=0
MiddleMouseUpAction=!RainmeterDeactivateConfig
Update=15000
BackgroundMode=0
DynamicWindowSize=1
Blur=#globalblurenable#
BlurRegion=#blurtype#,5,5,(#height#*2+10),(#height#+5),#blurcornerradius#
;Metadata added by RainBrowser
;http://rainmeter.net/RainCMS/?q=Rainmeter101_AnatomyOfASkin

[Metadata]
Name=
Config=
Description=
Instructions=
Version=
Author=Xyrfo and fediaFedia
License=
Variant=
Preview=

;End of added Metadata

[Variables]
@include=#SKINSPATH#\WP7\Common\Variables\UserVariables.inc
@include1=#SKINSPATH#\WP7\Panels\Weather\UserVariables.inc
@include2=#SKINSPATH#\WP7\Common\Variables\Languages\lang.inc
@include3=#CURRENTPATH#\size.inc
@include4=#SKINSPATH#\WP7\Common\color\color.inc
@include5=#SKINSPATH#WP7\TextItems\Twitter\UserVariables.inc
REG=<created_at>(.*)\+.*<id>(.*)</id>.*<text>(.*)</text>.*<screen_name>(.*)</screen_name>.*<profile_image_url>(.*)</profile_image_url>.*<status>.*
SubstituteTwitter="&#8220;":"“","&#8217;":"'","&#8221;":"”","&#8230;":"…","&apos;":"'","&quot;":"”","&Quot;":"”","&amp;":"&","&lt;br&gt;":"","...":"","<":"",">":"","/PRE&gt;":"","PRE&gt;":"","&lt;":"","&#39;":"'","&#039;":"'","&#8211;":"–","&gt;":">","&ndash;":"–","&mdash;":"—"

[Twitter]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=#Update#
URL=http://#TwitterUsername#:#TwitterPassword#@api.supertweet.net/1/statuses/home_timeline.xml
RegExp="(?siU)#REG#"
FinishAction=!execute [!RainmeterUpdate "#CURRENTCONFIG#"][!RainmeterUpdateMeasure avatar1 "#CURRENTCONFIG#"][!RainmeterUpdateMeter TwitterAvatar "#CURRENTCONFIG#"][!RainmeterRedraw]

[avatar1]
Measure=Plugin
Plugin=Plugins\WebParser.dll
URL=[Twitter]
StringIndex=5
Download=1 

[Id1]
Measure=Plugin
Plugin=Plugins\WebParser.dll
URL=[Twitter]
StringIndex=2

[Tweet1]
Measure=Plugin
Plugin=Plugins\WebParser.dll
URL=[Twitter]
StringIndex=3
Substitute=#SubstituteTwitter#

[Tweeter1]
Measure=Plugin
Plugin=Plugins\WebParser.dll
URL=[Twitter]
StringIndex=4
Substitute=#SubstituteTwitter#

[shadow]
Meter=Image
ImageName=#SKINSPATH#\WP7\Common\Borders\#shadow#2.png
x=0
y=0
w=(#height#+#height#+20)
h=(#height#+10)
ImageTint=#bordercolor#
Greyscale=1 

[bg0]
Meter=Image
ImageName=#Imagedir#\btn3.png
x=5
y=5
w=(#height#*2+10)
h=#height#
ImageTint=#colorskin#,#opacity#
Greyscale=1 

[bg]
Meter=Image
ImageName=bg.png
W=(#height#+#height#+10)
H=#height#
Antialias=1
X=5
Y=5

[btn]
Meter=Image
ImageName=#Imagedir#\btn32.png
W=(#height#+#height#+10)
H=#height#
Antialias=1
X=5
Y=5
ImageTint=#colorskin2#,#opacity2#
Greyscale=1 
Hidden=1

[overlay]
Meter=Image
ImageName=#SKINSPATH#\WP7\Common\Overlay\#overlay#2.png
x=5
y=5
UpdateDivider=864000
w=(#height#*2+10)
h=#height#

[bcg]
Meter=Image
Solidcolor=255,255,255,30
W=(#height#+#height#+10)
H=(#height#/3-5)
X=5
Hidden=#hidewhitetone#
Y=5

[Style]
FontColor=255,255,255
FontSize=(#height#/15+1)
FontFace=#FontFaceLight#
AntiAlias=1

[MeasureWeatherRSS]
Measure=Plugin
Plugin=Plugins\WebParser.dll
UpdateRate=30
Url=http://weather.yahooapis.com/forecastrss?p=#WEATHERCODE#&u=#UNIT#
RegExp=(?siU)<link.*>(.*)</link>.*city=\"(.*)\".*chill=\"(.*)\".*direction=\"(.*)\".*speed=\"(.*)\".*humidity=\"(.*)\".*visibility=\"(.*)\".*pressure=\"(.*)\".*sunrise=\"(.*)\".*sunset=\"(.*)\".*<image>.*<url>(.*)</url>.*<title>.*:.*m .*(.*)</title>.*lat>(.*)<.*long>(.*)<.*yweather:condition.*text=\"(.*)\".*code=\"(.*)\".*temp=\"(.*)\".*yweather:forecast.*day=\"(.*)\".*high=\"(.*)\".*code=\"(.*)\".*yweather:forecast.*day=\"(.*)\".*high=\"(.*)\".*code=\"(.*)\".*
StringIndex=1
FinishAction=!execute [!RainmeterUpdate "#CURRENTCONFIG#"][!RainmeterUpdateMeasure MeasureWeatherIcon "#CURRENTCONFIG#"][!RainmeterUpdateMeasure MeasureWeatherIconMod "#CURRENTCONFIG#"][!RainmeterUpdateMeter Icon "#CURRENTCONFIG#"][!RainmeterUpdateMeter Icon2 "#CURRENTCONFIG#"][!RainmeterRedraw]

[MeasureWeatherDesc]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=15
Substitute="Mostly Cloudy":"#MostlyCloudy#","Light Snow":"#LightSnow#","Light Rain":"#LightRain#","Light Rain Shower":"#LightRain#","Cloudy":"#Cloudy#","Drizzle":"#Drizzle#","Lgt.":"Hafif","And":"#and#","Partly":"#Partly#","Mostly":"#Mostly#","and":"#and#","with":"#with#","Clear":"#Clear#","Fair":"#Fair#","Partly Cloudy":"#PartlyCloudy#","Cloudy":"#Cloudy#","Freezing Rain":"#FreezingRain#","Light Rain Shower":"LightRainShower","Light Rain":"#LightRain#","Rain":"#Rain#","Thunderstorm":"#T-Storm#","Thunder":"#Thunder#","in the Vicinity":"#intheVicinity#","Shower":"#Shower#","Light Snow":"#LightSnow#","Snow":"#Snow#","Sunny":"#Sunny#","Windy":"#Windy#","Haze":"#Haze#","Fog":"#Fog#","W-ead Dust":"#WidespreadDust#","Set":"#Set#","Light Drizzle":"#LightDrizzle#","Wintry Mix":"#WintryMix#","Light":"#Light#","Mist":"#Fog#"

[MeasureWeatherIcon]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=16

[MeasureWeatherIconMod]
Measure=CALC
Formula=8800000 + (MeasureWeatherIcon*1000) + 99
Substitute="88":"HTCSenseWeather\","099":".png"

[MeasureWeatherTemp]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=17

[MeasureWindChill]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=3

[MeasureWindDirection]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=4

[MeasureWindSpeed]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=5

[MeasureHumidity]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=6

[MeasureVisibility]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=7

[MeasurePressure]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=8

[MeasureSunrise]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=9

[MeasureSunset]
Measure=Plugin
Plugin=Plugins\WebParser.dll
Url=[MeasureWeatherRSS]
StringIndex=10

[Icon]
MeasureName=MeasureWeatherIconMod
Meter=IMAGE
X=5
Y=5
w=(#Height#/0.75)
w=(#Height#/0.75)
Hidden=#hideweathericon#
ImageCrop=50,100,256,256

[TwitterAvatar]
MeasureName=avatar1
Meter=Image
X=(#Height#/8.333)
Y=(#Height#/1.3636)
W=(#Height#/4.2857)
W=(#Height#/4.2857)
AntiAlias=1

[tweetContent1]
Meter=String
Y=(#Height#/1.3888)
x=(#Height#/2.308)
W=(#Height#/0.612)
H=(#Height#/3.947)
MeasureName=Tweet1
ClipString=1
AntiAlias=1
FontSize=(#Height#/15)
FontColor=#textcolor2#
FontFace=Segoe UI

[Style]
FontColor=#textcolor2#
StringStyle=NORMAL
StringAlign=LEFT
FontFace=#FontFaceLight#
AntiAlias=1

[Temp1]
MeasureName=MeasureWeatherTemp
MeterStyle=Style
Meter=STRING
StringAlign=Center
X=(#height#+80#itemshadowoffsetX#)
FontColor=#ItemShadowColor#
Y=5
FontSize=(#height#/3)
Postfix="°"
Hidden=#ItemShadow#

[Temp]
MeasureName=MeasureWeatherTemp
MeterStyle=Style
Meter=STRING
StringAlign=LEFT
X=(#height#+5)
FontFace=Segoe WP Light
Y=0
FontSize=(#height#/5)
Postfix="°#unit#"
StringCase=UPPER
FontColor=#textcolor2#

[Desc]
MeasureName=MeasureWeatherDesc
MeterStyle=Style
Meter=STRING
StringAlign=LEFT
X=(#height#+7)
FontFace=Segoe WP
Y=(#height#/3.1)
FontSize=(#height#/10)
FontColor=#textcolor2#,200

[MeterClose]
Meter=BUTTON
ButtonImage=#SKINSPATH#WP7\Common\Panel\Close.png
X=(#Height#+#Height#) 
y=5
ButtonCommand=!RainmeterDeactivateConfig
Hidden=1

[size]
Meter=BUTTON
ButtonImage=#SKINSPATH#WP7\Common\Panel\size.png
X=(#Height#+#Height#) 
Y=(#Height#-10)
ButtonCommand=!Execute ["#SKINSPATH#\WP7\Common\Size\size.exe" "#CURRENTCONFIG#" double]
Hidden=1
